<!DOCTYPE HTML>
<html>

	<head>
		<title></title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/api.css"/>
		<style type="text/css">
			html,body{
				height: 100%;
			}
			.last_step{
				position: fixed;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(255,255,255,0.9);
				background-size: 100% 100%;
				z-index: 9999999;
				display: none;
			}
			.last_step_rightTop{
				position: absolute;
				right: 18px;
				top: 15px;
				width: 30px;
				height: 35px;
				background-image: url(img/wx_right_top.png);
				background-size: 100% 100%;
			}
			.last_step_ios{
				position: absolute;
				left: 50%;
				top: 70px;
				width: 250px;
				height: 250px;
				background-image: url(img/wx_ios.png);
				background-size: 100% 100%;
				-webkit-transform: translateX(-50%);
				-moz-transform: translateX(-50%);
				-ms-transform: translateX(-50%);
				-o-transform: translateX(-50%);
				transform: translateX(-50%);
			}
			.last_step_android{
				position: absolute;
				left: 50%;
				top: 70px;
				width: 200px;
				height: 285px;
				background-image: url(img/wx_android.png);
				background-size: 100% 100%;
				-webkit-transform: translateX(-50%);
				-moz-transform: translateX(-50%);
				-ms-transform: translateX(-50%);
				-o-transform: translateX(-50%);
				transform: translateX(-50%);
			}
		</style>
	</head>

	<body>

		<div class="last_step">
			<div class="last_step_rightTop"></div>
			<div id="last_step_style">
				
			</div>
		</div>

		<div id="dianji" style="line-height: 40px;text-align: center;font-size: 25px;">点击下载dev</div>
		<script src="js/jquery-2.1.1.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			document.getElementById("dianji").addEventListener('click',function(){
				download("http://admin.taomei.in/Public/oss/caima-v/20160808/260/200/655107a81cfa43e6a534b3d52f1cced6.MOV");
			},false);
			function download(src) {
			    var $a = document.createElement('a');
			    $a.setAttribute("href", src);
			    $a.setAttribute("download", '');
			
			    var evObj = document.createEvent('MouseEvents');
			    evObj.initMouseEvent( 'click', true, true, window, 0, 0, 0, 0, 0, false, false, true, false, 0, null);
			    $a.dispatchEvent(evObj);
			};
			/*
			 * 智能机浏览器版本信息:
			 *
			 */
			var browser = {
				versions: function() {
					var u = navigator.userAgent,
						app = navigator.appVersion;
					return { //移动终端浏览器版本信息 
						trident: u.indexOf('Trident') > -1, //IE内核
						presto: u.indexOf('Presto') > -1, //opera内核
						webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
						gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
						mobile: !!u.match(/AppleWebKit.*Mobile.*/) || !!u.match(/AppleWebKit/), //是否为移动终端
						ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
						android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
						iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者QQHD浏览器
						iPad: u.indexOf('iPad') > -1, //是否iPad
						webApp: u.indexOf('Safari') == -1 //是否web应该程序，没有头部与底部
					};
				}(),
				language: (navigator.browserLanguage || navigator.language).toLowerCase()
			}
			
			if(Iswei()){
				$('.last_step').css('display','block');
				if (browser.versions.ios || browser.versions.iPhone || browser.versions.iPad) { //苹果
					$('#last_step_style').addClass('last_step_ios');
				} else if (browser.versions.android) { //安卓
					$('#last_step_style').addClass('last_step_android');
				} else {
					$('#last_step_style').addClass('last_step_android');
				}
			}else{
				download("http://admin.taomei.in/Public/oss/caima-v/20160808/260/200/655107a81cfa43e6a534b3d52f1cced6.MOV");
			}
			
			function Iswei(){
				var ua = navigator.userAgent.toLowerCase();
				 if(ua.match(/MicroMessenger/i)=="micromessenger"){
					return true;
				}else{
					return false;
				}
			}

		</script>
	</body>

</html>